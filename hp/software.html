<!DOCTYPE html>
<html lang="en">
	<head>
	<title>Software Estimator</title>
	<link rel="stylesheet" type="text/css" href="http://tn5421.github.io/mafia.css">
	<meta charset="UTF-8">
	<meta name="author" content="tn5421">
	<script src="http://tn5421.github.io/jquery.js"></script>
	<!-- dynamically loads the content of the nav file into the ID navbar via jquery -->
	<script>
		$(function(){
			$("#navbar").load("nav.html");
		});
	</script> 
	<!-- The Shiv, as defined/borrowed by/from w3schools -->
	<!--[if lt IE 9]>
  		<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<script type="text/javascript">
		// a script to calculate precise HPD upgrades in order to run software.  Based off of virii.html by sjums
			var softwareItems = [
				{Name: 'Firewall Protect', CPU: 50, Mem: 3, Band: 0, Size: 0.00768, Income: 0},
				{Name: 'Firewall Bypass', CPU: 80, Mem: 7, Band: 0, Size: 0.0384, Income: 0},
				{Name: 'Password Protect', CPU: 100, Mem: 5, Band: 0, Size: 0.0087, Income: 0},
				{Name: 'Password Break', CPU: 200, Mem: 12.5, Band: 0, Size: 0.087, Income: 0},
				{Name: 'Hide Files', CPU: 100, Mem: 9, Band: 0, Size: 0.1024, Income: 0},
				{Name: 'Unhide Files', CPU: 100, Mem: 5, Band: 0, Size: 0.2048, Income: 0},
				{Name: 'Encryptor', CPU: 600, Mem: 30, Band: 0, Size: 0.35, Income: 0},
				{Name: 'Decryptor', CPU: 900, Mem: 40, Band: 0, Size: 0.45, Income: 0},
				{Name: 'Spyware', CPU: 300, Mem: 0.9, Band: 0, Size: 0.0512, Income: 0},
				{Name: 'Anti-Spyware', CPU: 150, Mem: 22.5, Band: 0, Size: 0.1024, Income: 0},
				{Name: 'Malware Logic Bomb', CPU: 300, Mem: 5, Band: 0, Size: 0.6, Income: 0},
				{Name: 'Malware Overload Bomb', CPU: 550, Mem: 7, Band: 0, Size: 1, Income: 0},
				{Name: 'Malware Anti-Virus', CPU: 300, Mem: 1.5, Band: 0, Size: 0.2048, Income: 0},
				{Name: 'Adware Spam Daemon', CPU: 50, Mem: 5, Band: 3,Size: 0.1024, Income: 3},
				{Name: 'Adware Anti-Virus', CPU: 250, Mem: 10, Band: 0, Size: 0.1784, Income: 0},
				{Name: 'File Share Virus', CPU: 250, Mem: 10, Band: 50,Size: 3.2768, Income: 60},
				{Name: 'File Share Anti-Virus', CPU: 500, Mem: 20, Band: 0, Size: 1.024, Income: 0},
				{Name: 'Sniffer Daemon', CPU: 20, Mem: 3, Band: 0, Size: 0.1548, Income: 0},
				{Name: 'IP Cloaker', CPU: 100, Mem: 6, Band: 0, Size: 0.1548, Income: 0},
				{Name: 'IP Scanner', CPU: 200, Mem: 10, Band: 0, Size: 0.3784, Income: 0},
				{Name: 'Scan Blocker', CPU: 200, Mem: 10, Band: 0, Size: 0.2048, Income: 0},
				{Name: 'Data Uplink Hijack', CPU: 300, Mem: 20, Band: 1, Size: 0.4048, Income: 0},
				{Name: 'Data Hijack Anti-Virus', CPU: 500, Mem: 30, Band: 0, Size: 0.2048, Income: 0},
				{Name: 'Log Deleter', CPU: 30, Mem: 1, Band: 0, Size: 0.00512, Income: 0},
				{Name: 'Log UnDeleter', CPU: 100, Mem: 5, Band: 0, Size: 0.1536, Income: 0}, // might be incorrect
				{Name: 'Virus Breaker', CPU: 300, Mem: 11.5, Band: 0, Size: 0.1784, Income: 0},
				{Name: 'Revelation Virus', CPU: 10000, Mem: 600, Band: 400, Size: 20.48, Income: 0},
				{Name: 'Faith Anti-Virus', CPU: 20000, Mem: 1200, Band: 0, Size: 20.48, Income: 0},
				{Name: 'Virus Identifier', CPU: 30, Mem: 1.15, Band: 0, Size: 0.1784, Income: 0}, // might be incorrect
				{Name: 'Process Tracer', CPU: 2400, Mem: 92, Band: 0, Size: 0.1784, Income: 0},
				{Name: '/root/OS/os.sock', CPU: 15000, Mem: 5, Band: 0, Size: 1.024, Income: 0},
				{Name: 'Robber Baron', CPU: 7500, Mem: 300, Band: 1500,Size: 98.304, Income: 1200},
				{Name: 'Robber Baron Anti-Virus', CPU: 15000, Mem: 600, Band: 0, Size: 30.72, Income: 0},
				{Name: 'Remote Attack Disruptor', CPU: 2400, Mem: 92, Band: 0, Size: 0.1784, Income: 0},
				{Name: 'IP Leech', CPU: 450, Mem: 1.35, Band: 0, Size: 0.0768, Income: 0},
				{Name: 'IP Leech Anti-Virus', CPU: 225, Mem: 21.6, Band: 0, Size: 0.1536, Income: 0},
				{Name: 'Remote Virus Injector', CPU: 2500, Mem: 125, Band: 2, Size: 4.096, Income: 0},
				{Name: 'Remote Injector Anti-Virus', CPU: 5000, Mem: 250, Band: 0, Size: 4.096, Income: 0},
				{Name: 'Overload Signer', CPU: 2400, Mem: 92, Band: 0, Size: 0.1784, Income: 0},
				{Name: 'Mutant Revelation Virus', CPU: 50000, Mem: 3000, Band: 2000, Size: 98.304, Income: 0},
				{Name: 'MutantR Accelerator', CPU: 2400, Mem: 92, Band: 100, Size: 0.1784, Income: 0},
				{Name: 'MutantR Decelerator', CPU: 9600, Mem: 278, Band: 0, Size: 0.1784, Income: 0},
				{Name: 'MutantR Acc Stopper', CPU: 1200, Mem: 46, Band: 0, Size: 0.1784, Income: 0},
				{Name: 'MutantR Dec Stopper', CPU: 1200, Mem: 46, Band: 0, Size: 0.1784, Income: 0}
			];
				
			function calc() {
			
			var type = document.getElementById('selSoft').value;
			var quantity = document.getElementById('txtMany').value;
			var version = document.getElementById('txtVersion').value;

			var extCpu = document.getElementById('txtCpu').value;
			var extHdd = document.getElementById('txtHdd').value;
			var extMem = document.getElementById('txtMem').value;
			var extBnd = document.getElementById('txtBand').value;
			var extHc = document.getElementById('abp_hc').value;
			var accGold = document.getElementById('selGold').value;
			
			var software = softwareItems[type];
			
			var softVerMulp = version * 10; // inflates the results to what they should be.  otherwise result would be 1/10 of expected values
			
			var abp_hc = extHc / 100; // Reduces input to a %
			
			var CPU_COST = 150; //50MHz
			var GOLD_CPU_COST = 120;
			var CPU_QUAN = 50;

			var HDD_COST = 300; //1 GB
			var GOLD_HDD_COST = 240;
			var HDD_QUAN = 1;

			var MEM_COST = 150; //3 Mb
			var GOLD_MEM_COST = 120;
			var MEM_QUAN = 3;

			var BAND_COST = 300; //1 kbps
			var GOLD_BAND_COST = 240;
			var BAND_QUAN = 1;
			
			if (accGold == "1") {  // first part figures out how many upgrades are needed.  second part calculates cost
				var singleCost = Math.ceil(((software.CPU * softVerMulp) - extCpu) / CPU_QUAN) * (CPU_COST - (CPU_COST * abp_hc));
				singleCost += Math.ceil(((software.Mem * softVerMulp) - extMem) / MEM_QUAN) * (MEM_COST - (MEM_COST * abp_hc));
				singleCost += Math.ceil(((software.Band * softVerMulp) - extBnd) / BAND_QUAN) * (BAND_COST - (BAND_COST * abp_hc));
				singleCost += Math.ceil(((software.Size * softVerMulp) - extHdd) / HDD_QUAN) * (HDD_COST - (HDD_COST * abp_hc));
				
				var multipleCost = Math.ceil(((software.CPU * softVerMulp * quantity) - extCpu) / CPU_QUAN) * (CPU_COST - (CPU_COST * abp_hc));
				multipleCost += Math.ceil(((software.Mem * softVerMulp * quantity) - extMem) / MEM_QUAN) * (MEM_COST - (MEM_COST * abp_hc));
				multipleCost += Math.ceil(((software.Band * softVerMulp * quantity) - extBnd) / BAND_QUAN) * (BAND_COST - (BAND_COST * abp_hc));
				multipleCost += Math.ceil(((software.Size * softVerMulp * quantity) - extHdd) / HDD_QUAN) * (HDD_COST - (HDD_COST * abp_hc));
		
			}
			
			else { // same thing as above, except calculates gold discount first and then Hardware Connections discount.  
				var singleCost = Math.ceil(((software.CPU * softVerMulp) - extCpu) / CPU_QUAN) * (GOLD_CPU_COST - (GOLD_CPU_COST * abp_hc));
				singleCost += Math.ceil(((software.Mem * softVerMulp) - extMem) / MEM_QUAN) * (GOLD_MEM_COST - (GOLD_MEM_COST * abp_hc));
				singleCost += Math.ceil(((software.Band * softVerMulp) - extBnd) / BAND_QUAN) * (GOLD_BAND_COST - (GOLD_BAND_COST * abp_hc));
				singleCost += Math.ceil(((software.Size * softVerMulp) - extHdd) / HDD_QUAN) * (GOLD_HDD_COST - (GOLD_HDD_COST * abp_hc));
				
				var multipleCost = Math.ceil(((software.CPU * softVerMulp * quantity) - extCpu) / CPU_QUAN) * (GOLD_CPU_COST - (GOLD_CPU_COST * abp_hc));
				multipleCost += Math.ceil(((software.Mem * softVerMulp * quantity) - extMem) / MEM_QUAN) * (GOLD_MEM_COST - (GOLD_MEM_COST * abp_hc));
				multipleCost += Math.ceil(((software.Band * softVerMulp * quantity) - extBnd) / BAND_QUAN) * (GOLD_BAND_COST - (GOLD_BAND_COST * abp_hc));
				multipleCost += Math.ceil(((software.Size * softVerMulp * quantity) - extHdd) / HDD_QUAN) * (GOLD_HDD_COST - (GOLD_HDD_COST * abp_hc));
			}
			
			var out = document.getElementById('out'); // Controls the display data
			out.innerHTML = 'A single v' + version + ' ' + software.Name + ' uses:<br>';
			out.innerHTML += 'CPU: ' + (software.CPU * softVerMulp) + ' MHz<br>';
			out.innerHTML += 'Mem: ' + (software.Mem * softVerMulp) + ' Mb<br>';
			out.innerHTML += 'Band: ' + (software.Band * softVerMulp) + ' Kbps<br>';
			out.innerHTML += 'Size: ' + (software.Size * softVerMulp) + ' Gb<br>';
		//	out.innerHTML += 'Income: ' + (software.Income * softVerMulp) + ' HPD/Hour<br>';
		//	out.innerHTML += 'Income: ' + (software.Income * softVerMulp) * 24 + ' HPD/Day<br>';
			out.innerHTML += 'Hardware Cost: ' + singleCost + ' HPD<br><br><hr><br>';
		//	out.innerHTML += 'Earned in: ' + (singleCost / (software.Income * softVerMulp)) + ' Hours<br>'
		//	out.innerHTML += 'Earned in: ' + (singleCost / (software.Income * softVerMulp) / 24) + ' Days<br><br><hr><br>'

			out.innerHTML += quantity + ' v' + version + ' ' + software.Name + ' uses:<br>';
			out.innerHTML += 'CPU: ' + (software.CPU * softVerMulp * quantity) + ' MHz (' + (Math.ceil(((software.CPU * softVerMulp * quantity) - extCpu) / CPU_QUAN)) + ')<br>';
			out.innerHTML += 'Mem: ' + (software.Mem * softVerMulp * quantity) + ' Mb (' + (Math.ceil(((software.Mem * softVerMulp * quantity) - extMem) / MEM_QUAN)) + ')<br>';
			out.innerHTML += 'Band: ' + (software.Band * softVerMulp * quantity) + ' Kbps (' + (Math.ceil(((software.Band * softVerMulp * quantity) - extBnd) / BAND_QUAN)) + ')<br>';
			out.innerHTML += 'Size: ' + (software.Size * softVerMulp * quantity) + ' Gb (' + (Math.ceil(((software.Size * softVerMulp * quantity) - extHdd) / HDD_QUAN)) + ')<br>';
			//	out.innerHTML += 'Income: ' + (software.Income * softVerMulp * quantity) + ' HPD/Hour<br>';
			//	out.innerHTML += 'Income: ' + (software.Income * softVerMulp * quantity) * 24 + ' HPD/Day<br>';
			out.innerHTML += 'Hardware Cost: ' + multipleCost + ' HPD<br>';
			//	out.innerHTML += 'Earned in: ' + (multipleCost / (software.Income * softVerMulp * quantity)) + ' Hours<br>'
			//	out.innerHTML += 'Earned in: ' + (multipleCost / (software.Income * softVerMulp * quantity) / 24) + ' Days<br><br><hr><br>'
		// Profit incalculable for most software
			}
		</script>
	</head>
<body class="index">
	<nav id="navbar"></nav>
	<div id="content">Software Type:
		<select id="selSoft">
			<script type="text/javascript">
				var selectList = document.getElementById("selSoft");
				for (var i = 0; i < softwareItems.length; i++) {
					var option = document.createElement("option");
					option.value = i;
					option.text = softwareItems[i].Name;
					selectList.appendChild(option);
				}
			</script>	
		</select>
		<br>
		How Many: <input type="text" id="txtMany" value="1">
		<br>
		Version: <input type="text" id="txtVersion" value="0.1">
		<br>
		Gold Account: <select id="selGold">
			<option value="1" selected="selected">Non-Gold</option>
			<option value="2">Gold</option>
		</select>
		<br>
		Hardware Connections (% upgraded by): <input type="text" id="abp_hc" value="0">
		<br>
		Owned server power:<br>
		CPU: <input type="text" id="txtCpu" value="550"> 
		HDD: <input type="text" id="txtHdd" value="2"> 
		Mem: <input type="text" id="txtMem" value="32"> 
		BW: <input type="text" id="txtBand" value="5">
		<br>
		<input type="button" value="Calculate" onclick="javascript:calc();">
		<br>
		<br>
		<hr>
		<br>
		<span id="out"></span>
		</div>
	</body>
</html>