<!DOCTYPE html>
<html lang="en">
<head>
	<title>Research Estimator</title>
	<link rel="stylesheet" type="text/css" href="https://tn5421.github.io/index.css">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="UTF-8">
		<meta name="author" href="https://tn5421.github.io/humans.txt">
	<!-- The Shiv, as defined/borrowed by/from w3schools -->
	<!--[if lt IE 9]>
  		<script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
<script type="text/javascript">

function calc() {

	var numHours = document.getElementById('txtHours').value;
	var numTasks = document.getElementById('txtTasks').value;
	var extHc = document.getElementById('abp_rw').value;
	var accGold = document.getElementById('selGold').value;

	var abp_rw = extHc / 100; // Reduces input to a %
	var RESEARCH_COST = 100; // 100HPD per hour of research
	var GOLD_RESEARCH_COST = 80; // Gold is 20% discount and is always calculated first

	if (accGold == "1") {
		var researchCost = Math.ceil((numHours * numTasks) * (RESEARCH_COST - (RESEARCH_COST * abp_rw)));
	}

	else {
		var researchCost = Math.ceil((numHours * numTasks) * (GOLD_RESEARCH_COST - (GOLD_RESEARCH_COST * abp_rw)));
	}

	var out = document.getElementById('out'); // Controls where the data is displayed

	out.innerHTML = numHours + ' hour(s) of research with ' + numTasks + ' task(s) will cost ' + researchCost + 'HPD';
} // If you can suggest a better way to dynamically print data on page without cheating like this, please do.  This got old before I even started working with javascript.
</script>
</head>
<body class="hp-research">
	<nav id="navbar"></nav>
	<div id="content">
Hours of Research : <input type="text" id="txtHours" value="1">
<br>
Number of Tasks: <input type="text" id="txtTasks" value="1">
<br>
Gold Account: <select id="selGold">
	<option value="1" selected="selected">Non-Gold</option>
	<option value="2">Gold</option>
</select>
<br>
Research Wizard(% upgraded by): <input type="text" id="abp_rw" value="0">
<br>
<input type="button" value="Calculate" onclick="javascript:calc();">
<br><br><hr><br>
<span id="out"></span>
</div>
		<!-- dynamically loads the content of the nav file into the ID navbar -->
	<script type="text/javascript">
		(function(){
    	var request = new XMLHttpRequest();
    	request.open("GET", "https://tn5421.github.io/hp/nav.html");
    	request.addEventListener("load", function() {
      	document.querySelector("#navbar").innerHTML += request.responseText;
    	})
    	request.send();
		})(); // doesn't check response code or ready state because I'm lazy
	</script>
</body>
</html>
